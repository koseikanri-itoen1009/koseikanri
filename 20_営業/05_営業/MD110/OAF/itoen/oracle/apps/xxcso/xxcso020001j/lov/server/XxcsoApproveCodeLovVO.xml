<?xml version="1.0" encoding='Windows-31J'?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">

<ViewObject
   Name="XxcsoApproveCodeLovVO"
   BindingStyle="Oracle"
   CustomQuery="true"
   RowClass="itoen.oracle.apps.xxcso.xxcso020001j.lov.server.XxcsoApproveCodeLovVORowImpl"
   ComponentClass="itoen.oracle.apps.xxcso.xxcso020001j.lov.server.XxcsoApproveCodeLovVOImpl"
   MsgBundleClass="oracle.jbo.common.JboResourceBundle"
   FetchMode="FETCH_AS_NEEDED"
   UseGlueCode="false" >
   <SQLQuery><![CDATA[
SELECT  '1'  range_type
       ,flvv.lookup_type approval_type_code
       ,xev.employee_number
       ,xev.full_name
       ,xxcso_util_common_pkg.get_emp_parameter(
          xev.work_base_code_new
         ,xev.work_base_code_old
         ,xev.issue_date
         ,TRUNC(xxcso_util_common_pkg.get_online_sysdate)
        ) work_base_code
       ,(SELECT  xabv.base_short_name
         FROM    xxcso_aff_base_v2 xabv
         WHERE   xabv.base_code = xxcso_util_common_pkg.get_emp_parameter(
                                    xev.work_base_code_new
                                   ,xev.work_base_code_old
                                   ,xev.issue_date
                                   ,TRUNC(xxcso_util_common_pkg.get_online_sysdate)
                                  )
        ) work_base_short_name
       ,xev.full_name  return_full_name
       ,xev.user_id    user_id
FROM    xxcso_tmp_sp_dec_request   xtsdr
       ,xxcso_sp_decision_wf_orgs  xsdwo
       ,xxcso_employees_v2         xev
       ,fnd_lookup_values_vl       flvv
WHERE   xsdwo.base_code                                                                = xtsdr.app_base_code
AND     xsdwo.effective_st_date                                                       <= TRUNC(xxcso_util_common_pkg.get_online_sysdate)
AND     NVL(xsdwo.effective_ed_date, TRUNC(xxcso_util_common_pkg.get_online_sysdate)) >= TRUNC(xxcso_util_common_pkg.get_online_sysdate)
AND     xxcso_util_common_pkg.get_emp_parameter(
          xev.work_base_code_new
         ,xev.work_base_code_old
         ,xev.issue_date
         ,TRUNC(xxcso_util_common_pkg.get_online_sysdate)
        ) IN (  xsdwo.sends_dept_code1
               ,xsdwo.sends_dept_code2
               ,xsdwo.sends_dept_code3
               ,xsdwo.sends_dept_code4
               ,xsdwo.sends_dept_code5
               ,xsdwo.sends_dept_code6
               ,xsdwo.sends_dept_code7
               ,xsdwo.sends_dept_code8
               ,xsdwo.sends_dept_code9
               ,xsdwo.sends_dept_code10
             )
AND     flvv.lookup_code = xxcso_util_common_pkg.get_emp_parameter(
                             xev.approval_type_code_new
                            ,xev.approval_type_code_old
                            ,xev.issue_date
                            ,TRUNC(xxcso_util_common_pkg.get_online_sysdate)
                           )
AND     flvv.enabled_flag = 'Y'
AND     NVL(flvv.start_date_active, TRUNC(xxcso_util_common_pkg.get_online_sysdate)) <= TRUNC(xxcso_util_common_pkg.get_online_sysdate)
AND     NVL(flvv.end_date_active, TRUNC(xxcso_util_common_pkg.get_online_sysdate))   >= TRUNC(xxcso_util_common_pkg.get_online_sysdate)
UNION ALL
SELECT  '1'               range_type
       ,flvv.attribute1   approval_type_code
       ,'*'               employee_number
       ,'è»ó™'            full_name
       ,NULL              work_base_code
       ,NULL              work_base_short_name
       ,NULL              return_full_name
       ,-1                user_id
FROM    fnd_lookup_values_vl  flvv
WHERE   flvv.lookup_type                            = 'XXCSO1_SP_DECISION_LEVEL'
AND     flvv.enabled_flag                           = 'Y'
AND     NVL(flvv.start_date_active, TRUNC(xxcso_util_common_pkg.get_online_sysdate)) <= TRUNC(xxcso_util_common_pkg.get_online_sysdate)
AND     NVL(flvv.end_date_active, TRUNC(xxcso_util_common_pkg.get_online_sysdate))   >= TRUNC(xxcso_util_common_pkg.get_online_sysdate)
UNION ALL
SELECT  '2'  range_type
       ,flvv.lookup_type approval_type_code
       ,xev.employee_number
       ,xev.full_name
       ,xxcso_util_common_pkg.get_emp_parameter(
          xev.work_base_code_new
         ,xev.work_base_code_old
         ,xev.issue_date
         ,TRUNC(xxcso_util_common_pkg.get_online_sysdate)
        ) work_base_code
       ,(SELECT  xabv.base_short_name
         FROM    xxcso_aff_base_v2 xabv
         WHERE   xabv.base_code = xxcso_util_common_pkg.get_emp_parameter(
                                    xev.work_base_code_new
                                   ,xev.work_base_code_old
                                   ,xev.issue_date
                                   ,TRUNC(xxcso_util_common_pkg.get_online_sysdate)
                                  )
        ) work_base_short_name
       ,xev.full_name  return_full_name
       ,xev.user_id    user_id
FROM    xxcso_employees_v2         xev
       ,fnd_lookup_values_vl       flvv
WHERE   flvv.lookup_code = xxcso_util_common_pkg.get_emp_parameter(
                             xev.approval_type_code_new
                            ,xev.approval_type_code_old
                            ,xev.issue_date
                            ,TRUNC(xxcso_util_common_pkg.get_online_sysdate)
                           )
AND     flvv.enabled_flag = 'Y'
AND     NVL(flvv.start_date_active, TRUNC(xxcso_util_common_pkg.get_online_sysdate)) <= TRUNC(xxcso_util_common_pkg.get_online_sysdate)
AND     NVL(flvv.end_date_active, TRUNC(xxcso_util_common_pkg.get_online_sysdate))   >= TRUNC(xxcso_util_common_pkg.get_online_sysdate)
UNION ALL
SELECT  '2'               range_type
       ,flvv.attribute1   approval_type_code
       ,'*'               employee_number
       ,'è»ó™'            full_name
       ,NULL              work_base_code
       ,NULL              work_base_short_name
       ,NULL              return_full_name
       ,-2                user_id
FROM    fnd_lookup_values_vl  flvv
WHERE   flvv.lookup_type                            = 'XXCSO1_SP_DECISION_LEVEL'
AND     flvv.enabled_flag                           = 'Y'
AND     NVL(flvv.start_date_active, TRUNC(xxcso_util_common_pkg.get_online_sysdate)) <= TRUNC(xxcso_util_common_pkg.get_online_sysdate)
AND     NVL(flvv.end_date_active, TRUNC(xxcso_util_common_pkg.get_online_sysdate))   >= TRUNC(xxcso_util_common_pkg.get_online_sysdate)
   ]]></SQLQuery>
   <DesignTime>
      <Attr Name="_isCodegen" Value="true" />
      <Attr Name="_version" Value="9.0.3.14.00" />
      <Attr Name="_CodeGenFlagNew" Value="36" />
   </DesignTime>
   <ViewAttribute
      Name="RangeType"
      IsPersistent="false"
      Precision="1"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="RANGE_TYPE"
      Expression="RANGE_TYPE"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="1" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="ApprovalTypeCode"
      IsPersistent="false"
      Precision="4000"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="APPROVAL_TYPE_CODE"
      Expression="APPROVAL_TYPE_CODE"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="4000" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="EmployeeNumber"
      IsPersistent="false"
      Precision="30"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="EMPLOYEE_NUMBER"
      Expression="EMPLOYEE_NUMBER"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="30" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="FullName"
      IsPersistent="false"
      Precision="301"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="FULL_NAME"
      Expression="FULL_NAME"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="301" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="WorkBaseCode"
      IsPersistent="false"
      Precision="4000"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="WORK_BASE_CODE"
      Expression="WORK_BASE_CODE"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="4000" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="WorkBaseShortName"
      IsPersistent="false"
      Precision="240"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="WORK_BASE_SHORT_NAME"
      Expression="WORK_BASE_SHORT_NAME"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="240" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="ReturnFullName"
      IsPersistent="false"
      Precision="301"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="RETURN_FULL_NAME"
      Expression="RETURN_FULL_NAME"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="301" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="UserId"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="USER_ID"
      Expression="USER_ID"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
</ViewObject>
